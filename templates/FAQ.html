{% extends "template.html" %}
{% block content %}
<div id="main-wrap">
<main class="page-menu">
<aside></aside>
<div class="guide">Welcome to Novixx Board Game (Chess)!
  <p>NBG is a free platform to play Chess with drawbacks.</p>
  <p>Chess is a game played on an 8x8 board with pieces that have unique movement rules.</p>
  <p>The goal of the game is to checkmate the opponent's king.</p>
  <p>There are challenges (drawbacks) you need to follow. You can't see your opponent's drawback until after the game.</p>
  <p>NBG is based on PyChess, a free and open-source chess server.</p>
  <p>NBG's source code is available on GitHub: <a href="https://github.com/Novixx-Systems/Novixx-Board-Game">https://github.com/Novixx-Systems/Novixx-Board-Game</a></p>
</main>
</div>
{% endblock %}
{% block js %}
<script src="{{ js }}"></script>
<script>
document.addEventListener('DOMContentLoaded', function() {
  var hash = window.location.hash.substring(1);
  var detailsElements = document.querySelectorAll('details');
  
  detailsElements.forEach(function(detailsElement, index) {
    if (index + 1 === parseInt(hash)) {
      detailsElement.open = true;
      
      window.scrollTo({
        top: detailsElement.offsetTop,
        behavior: 'smooth'
      });
    }
  });
});

// Fetch all the details element.
const details = document.querySelectorAll("details");

// Add the onclick listeners.
details.forEach((targetDetail) => {
  targetDetail.addEventListener("click", () => {
    // Close all the details that are not targetDetail.
    details.forEach((detail) => {
      if (detail !== targetDetail) {
        detail.removeAttribute("open");
      }
    });
  });
});
</script>
{% endblock %}
